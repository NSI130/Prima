<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pesan Rahasia Interaktif â€” Nashri Edition</title>

<!-- Google Fonts: Poppins + Roboto Mono -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto+Mono&display=swap" rel="stylesheet" />

<style>
  /* Reset dan base */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 40px;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #eef2f7;
    user-select: none;
  }
  /* Container utama */
  .container {
    display: flex;
    gap: 48px;
    background: rgba(255 255 255 / 0.1);
    border-radius: 24px;
    box-shadow: 0 20px 50px rgba(102, 126, 234, 0.5);
    padding: 48px;
    max-width: 1000px;
    width: 100%;
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
  }

  /* Box tiap bagian */
  .box {
    flex: 1 1 0;
    background: rgba(255 255 255 / 0.12);
    border-radius: 20px;
    padding: 36px 32px 44px 32px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
  }

  /* Judul dengan efek neon tipis */
  h2 {
    font-weight: 700;
    font-size: 1.8rem;
    margin: 0 0 26px 0;
    text-align: center;
    color: #f0f4ff;
    text-shadow:
       0 0 6px rgba(255, 255, 255, 0.7),
       0 0 12px rgba(102, 126, 234, 0.9),
       0 0 24px rgba(118, 75, 162, 0.8);
  }

  label {
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 8px;
    color: #dcdce1cc;
    letter-spacing: 0.03em;
  }

  input, textarea {
    font-family: 'Poppins', sans-serif;
    font-size: 1rem;
    padding: 14px 18px;
    margin-bottom: 20px;
    border-radius: 16px;
    border: 2px solid rgba(255 255 255 / 0.25);
    background: rgba(255 255 255 / 0.15);
    color: #eef2f7;
    box-shadow: inset 0 0 6px rgba(255 255 255 / 0.3);
    transition:
      border-color 0.4s ease,
      box-shadow 0.4s ease,
      background-color 0.4s ease;
    resize: vertical;
    outline-offset: 2px;
  }
  input::placeholder, textarea::placeholder {
    color: rgba(255 255 255 / 0.5);
    font-style: italic;
  }
  input:focus, textarea:focus {
    border-color: #6e57e0;
    background: rgba(255 255 255 / 0.3);
    box-shadow:
      0 0 12px 2px rgba(102, 126, 234, 0.8),
      inset 0 0 10px 2px rgba(118, 75, 162, 0.7);
    color: #fff;
  }

  /* Tombol dengan efek glowing */
  button {
    cursor: pointer;
    font-weight: 700;
    font-size: 1.15rem;
    background: linear-gradient(45deg, #6e57e0, #8b68f4);
    border: none;
    padding: 16px 0;
    border-radius: 16px;
    color: white;
    box-shadow:
      0 0 20px rgba(110, 87, 224, 0.7),
      0 4px 10px rgba(110, 87, 224, 0.4);
    transition:
      background 0.35s ease,
      box-shadow 0.35s ease,
      transform 0.2s ease;
    user-select: none;
  }
  button:hover:not(:disabled) {
    background: linear-gradient(45deg, #8b68f4, #a890ff);
    box-shadow:
      0 0 28px rgba(139, 104, 244, 0.9),
      0 6px 18px rgba(139, 104, 244, 0.6);
    transform: scale(1.05);
  }
  button:disabled {
    cursor: not-allowed;
    background: rgba(150, 150, 150, 0.5);
    box-shadow: none;
    color: #ccc;
    transform: none;
  }

  /* Status pesan */
  .message {
    font-family: 'Roboto Mono', monospace;
    font-weight: 600;
    min-height: 72px;
    margin-top: auto;
    font-size: 1rem;
    white-space: pre-wrap;
    color: #a1b0d7;
    text-align: center;
    user-select: text;
    letter-spacing: 0.04em;
    text-shadow: 0 0 3px rgba(0,0,0,0.2);
  }
  .message.error {
    color: #ff6b6b;
    text-shadow:
      0 0 10px #ff6b6b;
  }
  .message.success {
    color: #9ee493;
    text-shadow:
      0 0 8px #9ee493;
  }

  /* Loading spinner neon */
  .spinner {
    margin: 20px auto;
    width: 48px;
    height: 48px;
    border: 6px solid rgba(255 255 255 / 0.2);
    border-top-color: #8b68f4;
    border-radius: 50%;
    animation: spin 1.25s linear infinite;
  }
  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Animasi ketik */
  .typing {
    border-right: 3px solid #8b68f4;
    animation:
      typingAnim 1.5s steps(30, end) forwards,
      blinkCaret 0.8s step-end infinite;
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
  }
  @keyframes typingAnim {
    from { width: 0; }
    to { width: 100%; }
  }
  @keyframes blinkCaret {
    50% { border-color: transparent; }
  }

  /* Responsif */
  @media (max-width: 900px) {
    body {
      padding: 28px;
    }
    .container {
      flex-direction: column;
      padding: 28px;
      gap: 32px;
    }
    .box {
      padding: 32px 28px 36px 28px;
    }
  }
</style>
</head>

<body>
  <div class="container" role="main" aria-label="Interaktif Penerima dan Pengirim Pesan Rahasia">
    <!-- Penerima -->
    <section class="box" aria-labelledby="judul-penerima">
      <h2 id="judul-penerima">Cek deh, ada pesan untukmu ngga</h2>
      <label for="namaPenerima">Masukkan namamu</label>
      <input type="text" id="namaPenerima" placeholder="Tulis namamu di sini..." autocomplete="off" aria-describedby="statusPenerima" />
      <button id="cekPesanBtn" aria-controls="statusPenerima" aria-live="polite" aria-label="Cek pesan untuk namamu">Cek Pesan</button>
      <div id="statusPenerima" class="message" role="status" aria-live="polite" aria-atomic="true"></div>
    </section>

    <!-- Pengirim -->
    <section class="box" aria-labelledby="judul-pengirim">
      <h2 id="judul-pengirim">Kirim Pesan Rahasia</h2>
      <label for="namaUntuk">Untuk siapa?</label>
      <input type="text" id="namaUntuk" placeholder="Nama penerima pesan" autocomplete="off" aria-describedby="statusPengirim" />
      
      <label for="pesanKirim">Isi Pesan</label>
      <textarea id="pesanKirim" placeholder="Tulis pesanmu di sini..."></textarea>
      
      <label for="passwordKirim">Password Rahasia</label>
      <input type="password" id="passwordKirim" placeholder="Masukkan password rahasia" autocomplete="off" />
      
      <button id="kirimPesanBtn" aria-controls="statusPengirim" aria-live="polite" aria-label="Kirim pesan rahasia">Kirim Pesan</button>
      <div id="statusPengirim" class="message" role="status" aria-live="polite" aria-atomic="true"></div>
    </section>
  </div>

<script>
  // Database pesan simulasi
  const dbPesan = {
    'prima': ['Hai Prima! Semangat terus ya!', 'Jangan lupa makan yang teratur ðŸ˜Š'],
    'nashri': ['Halo Nashri, tetap jaga kesehatan!'],
  };

  const btnCek = document.getElementById('cekPesanBtn');
  const inputNamaPenerima = document.getElementById('namaPenerima');
  const statusPenerima = document.getElementById('statusPenerima');

  const btnKirim = document.getElementById('kirimPesanBtn');
  const inputNamaUntuk = document.getElementById('namaUntuk');
  const inputPesanKirim = document.getElementById('pesanKirim');
  const inputPassword = document.getElementById('passwordKirim');
  const statusPengirim = document.getElementById('statusPengirim');

  // Fungsi untuk tampilkan pesan dengan animasi ketik
  function tampilkanTyping(element, text, cls = '') {
    element.textContent = '';
    element.className = 'message ' + cls + ' typing';
    let i = 0;
    let interval = setInterval(() => {
      if (i >= text.length) {
        clearInterval(interval);
        element.classList.remove('typing');
        return;
      }
      element.textContent += text.charAt(i);
      i++;
    }, 35);
  }

  // Cek pesan untuk penerima
  btnCek.addEventListener('click', () => {
    let nama = inputNamaPenerima.value.trim().toLowerCase();
    statusPenerima.className = 'message';
    if (!nama) {
      statusPenerima.classList.add('error');
      statusPenerima.textContent = 'Isi dulu namamu, dong! ðŸ˜…';
      return;
    }
    statusPenerima.textContent = '';
    tampilkanTyping(statusPenerima, 'Mencari pesan untuk "' + nama + '"...');

    setTimeout(() => {
      if (dbPesan[nama]) {
        const pesanGabungan = dbPesan[nama].join('\nâ€¢ ');
        tampilkanTyping(statusPenerima, `Pesan untuk ${nama}:\nâ€¢ ${pesanGabungan}`, 'success');
      } else {
        tampilkanTyping(statusPenerima, `Oops! Belum ada pesan buat "${nama}".\nAjak temanmu kirim ya!`, 'error');
      }
    }, 1500);
  });

  // Kirim pesan rahasia dengan password 'Harimau'
  btnKirim.addEventListener('click', () => {
    statusPengirim.className = 'message';
    let namaUntuk = inputNamaUntuk.value.trim().toLowerCase();
    let pesan = inputPesanKirim.value.trim();
    let password = inputPassword.value.trim();

    if (!namaUntuk) {
      statusPengirim.classList.add('error');
      statusPengirim.textContent = 'Isi nama penerimanya dulu, ya!';
      return;
    }
    if (!pesan) {
      statusPengirim.classList.add('error');
      statusPengirim.textContent = 'Pesan gak boleh kosong!';
      return;
    }
    if (!password) {
      statusPengirim.classList.add('error');
      statusPengirim.textContent = 'Password harus diisi.';
      return;
    }
    if (password !== 'Harimau') {
      statusPengirim.classList.add('error');
      statusPengirim.textContent = 'Password salah, coba lagi ya!';
      return;
    }

    // Simpan pesan ke "database"
    if (!dbPesan[namaUntuk]) dbPesan[namaUntuk] = [];
    dbPesan[namaUntuk].push(pesan);

    tampilkanTyping(statusPengirim, `Pesan untuk "${namaUntuk}" berhasil dikirim! ðŸŽ‰`, 'success');

    // Reset input
    inputNamaUntuk.value = '';
    inputPesanKirim.value = '';
    inputPassword.value = '';
  });

  // Enter key triggers cek pesan dan kirim pesan
  inputNamaPenerima.addEventListener('keydown', e => {
    if (e.key === 'Enter') btnCek.click();
  });
  inputPassword.addEventListener('keydown', e => {
    if (e.key === 'Enter') btnKirim.click();
  });
</script>
</body>
</html>
